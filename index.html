<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>LOGOS-LOGIC | ARCHES</title>
    <style>
        body { margin: 0; background: #000; color: #D4AF37; overflow: hidden; font-family: 'Times New Roman', serif; }
        
        /* UIラベル：黄金比に基づいた配置 */
        #interface {
            position: absolute; width: 100%; height: 100%;
            display: flex; flex-direction: column; justify-content: space-between;
            padding: 5%; box-sizing: border-box; z-index: 10;
            pointer-events: none; text-transform: uppercase; letter-spacing: 0.3em;
        }
        .label { opacity: 0.6; font-size: 0.8rem; }
        .center-logos { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 3rem; opacity: 0.9; }
        
        canvas { position: absolute; top: 0; left: 0; filter: blur(0.5px); }
    </style>
</head>
<body>
    <div id="interface">
        <div style="display: flex; justify-content: space-between;">
            <div class="label">LOGOS: DIALOGUE</div>
            <div class="label">LOGIC: RATIO</div>
        </div>
        <div class="center-logos">Φ</div>
        <div style="display: flex; justify-content: space-between;">
            <div class="label">CURRENCY: VALUE</div>
            <div class="label">STATUS: PERSISTENT</div>
        </div>
    </div>
    <canvas id="world"></canvas>

    <script>
        const canvas = document.getElementById('world');
        const ctx = canvas.getContext('2d');
        const PHI = (1 + Math.sqrt(5)) / 2;

        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.onresize = resize;
        resize();

        // 決定論的メビウス変換
        function transform(re, im) {
            const den = Math.pow(re + 1, 2) + Math.pow(im, 2);
            return {
                re: ((PHI * re + 1) * (re + 1) + PHI * Math.pow(im, 2)) / den,
                im: (PHI * im * (re + 1) - (PHI * re + 1) * im) / den
            };
        }

        let particles = Array.from({ length: 144 }, (_, i) => ({
            re: Math.cos(2 * Math.PI * i / PHI) * 2,
            im: Math.sin(2 * Math.PI * i / PHI) * 2,
            seed: i
        }));

        let t = 0;
        function draw() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            particles.forEach((p) => {
                const next = transform(p.re, p.im);
                
                // 人間の視覚に適応させた投影
                const scale = Math.min(canvas.width, canvas.height) / 4;
                const x = canvas.width / 2 + next.re * scale;
                const y = canvas.height / 2 + next.im * scale;

                const pulse = (Math.sin(t * 0.03 + p.seed * PHI) + 1) / 2;
                ctx.fillStyle = `rgba(212, 175, 55, ${0.4 + 0.5 * pulse})`;

                ctx.beginPath();
                ctx.arc(x, y, 1.5, 0, Math.PI * 2);
                ctx.fill();

                p.re = next.re;
                p.im = next.im;

                if (Math.abs(p.re - PHI) < 0.01) {
                    p.re = Math.cos(p.seed) * 2;
                    p.im = Math.sin(p.seed) * 2;
                }
            });

            t++;
            requestAnimationFrame(draw);
        }
        draw();
    </script>
</body>
</html>
